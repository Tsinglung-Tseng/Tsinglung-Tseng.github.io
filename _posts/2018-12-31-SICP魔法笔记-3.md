---
title: SICPé­”æ³•ç¬”è®°-3
key: 20181231
tags: SICP
---


# é«˜é˜¶è¿‡ç¨‹

ä»ä¸€äº›ç›¸ä¼¼çš„è¿‡ç¨‹ä¸­æŠ½è±¡å‡ºæ›´ä¸€èˆ¬çš„è¿‡ç¨‹ã€‚

**sum of integers**

$$\sum_{i=a}^{b} i$$

$$\sum_{i=a}^{b} i^2$$

## Procedure argument

(define (SUM term A next B)
(IF (> A B) 
    0
    (+ (term A)
        (sum term
            (next A)
            next
            B))))

(define (SUM-INT A B)
    (define (identity A) A)
    (sum identity A 1+ B))

(define (SUM-SQ A B)
    (sum square A 1+ B))

(define PI-SUM A B 
    (sum (lambda(i) (/ 1 (* i (+ 1 2))))
    a
    (lambda(i) (+ 1 4))))

```python
def sumation(term, A, thenext, B):
    if A>B:
        return 0
    else:
        return term(A) + sumation(term, thenext(A), thenext, B)
```

**Iterative SUM**

(define (sum term a next)
    (define (iter j ans)
        (if (> j b)
            ans
        (iter (next j)
              (* (term j) ans))))
    (iter a 0))


## Finding fix point

y ---- ğ’‡ ----> ğ’‡(x)

(define (fixed-point f start)
    (define tolerance 0.00001)
    (define (close-enough? u v)
        (< (abs (- u v)) tolerance))
    (define (iter old new)
        (if (close-enough? old new)
            new
            (iter new (f new))))
    (iter start (f start)))

**Average Damp**

(define (sqrt x)
    (fixed-point
        (average-damp (lambda (y) (/ x y)))
        1))

(define average-damp
    (lambda (f)
        (lambda (x) (average (f x) x))))


## The rights and privileges of first-class citizens

* To be named by variables
* To be passed as arguments to procedures
* To be returned as values of procedures
* To be incorporated into data structures

## é€’å½’è®¡ç®—è¿‡ç¨‹ vs é€’å½’è¿‡ç¨‹

ä¸€ä¸ª**é€’å½’è¿‡ç¨‹**å¯ä»¥äº§ç”Ÿä¸€ä¸ªè¿­ä»£çš„**è®¡ç®—è¿‡ç¨‹**ã€‚

å¯¹ä»»ä½•**é€’å½’è¿‡ç¨‹**çš„è§£é‡Šï¼Œæ‰€æ¶ˆè€—çš„å†…å­˜æ€»ä¸è¿‡ç¨‹è°ƒç”¨çš„æ ‘æœ¨æˆæ­£æ¯”ï¼Œå³ä½¿å®ƒæ‰€æè¿°çš„è®¡ç®—è¿‡ç¨‹ä»åŸç†ä¸Šçœ‹æ˜¯è¿­ä»£çš„ã€‚ä½œä¸ºè¿™ä¸€äº‹å®çš„åæœï¼Œè¦åœ¨è¿™äº›è¯­è¨€é‡Œæè¿°è¿­ä»£è¿‡ç¨‹ï¼Œå°±å¿…é¡»å€ŸåŠ©ç‰¹æ®Šçš„â€œå¾ªç¯ç»“æ„â€ã€‚

è€ŒSchemaçš„å®ç°åˆ™æ²¡æœ‰è¿™ä¸€ç¼ºé™·ï¼Œå®ƒå°†æ€»èƒ½åœ¨å¸¸é‡ç©ºé—´ä¸­æ‰§è¡Œè¿­ä»£å‹è®¡ç®—è¿‡ç¨‹ï¼Œå³ä½¿è¿™ä¸€è®¡ç®—æ˜¯ç”¨é€’å½’è¿‡ç¨‹æè¿°çš„ã€‚å…·æœ‰è¿™ä¸€ç‰¹æ€§çš„å®ç°ç§°ä¸º**å°¾é€’å½’çš„**ã€‚

```python
def factorial_rec(n):
    if n>0:
        return n*factorial_rec(dec(n))
    return 1

def factorial_iter(max_count, product=1, counter=1):
    if counter>max_count:
        return product
    return factorial_iter(product=product*counter, counter=inc(counter), max_count=max_count)
```

å®šä¹‰ä¸€ä¸ªä¸å˜é‡ï¼Œï¼Œè¦æ±‚å®ƒåœ¨çŠ¶æ€ä¹‹é—´ä¿æŒä¸å˜ï¼Œæ˜¯æ€è€ƒè¿­ä»£ç®—æ³•è®¾è®¡é—®é¢˜æ—¶ä¸€ç§æœ‰åŠ›çš„æ–¹æ³•ã€‚